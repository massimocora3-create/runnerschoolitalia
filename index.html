<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <title>Runner‚Äôs School Italia ‚Äì App</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="manifest" href="manifest.json">

  <style>
    :root {
      --bg:#020617;
      --bg-card:#0b1120;
      --accent:#f97316;
      --accent-soft:rgba(249,115,22,.12);
      --text:#e5e7eb;
      --text-muted:#9ca3af;
      --border:#1f2937;
      --radius-lg:20px;
      --shadow-soft:0 18px 45px rgba(0,0,0,.55);
    }

    *{margin:0;padding:0;box-sizing:border-box}

    body{
      font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
      background:radial-gradient(circle at top,#0b1120 0,#020617 55%,#000 100%);
      color:var(--text);
      min-height:100vh;
    }

    .app-shell{
      max-width:520px;
      margin:0 auto;
      padding:18px 14px 32px;
    }

    /* HEADER */
    .app-header{
      display:flex;
      align-items:center;
      gap:14px;
      padding:10px 4px 18px;
    }

    .app-logo-wrap{
      width:54px;
      height:54px;
      border-radius:24px;
      background:radial-gradient(circle at 20% 0,#1f2937 0,#020617 60%);
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow:0 10px 25px rgba(0,0,0,.6);
      border:1px solid rgba(148,163,184,.2);
    }

    .app-logo{width:44px;height:44px;object-fit:contain}

    .app-title{
      font-size:20px;
      font-weight:700;
      text-transform:uppercase;
    }

    .app-subtitle{
      font-size:13px;
      color:var(--text-muted);
    }

    /* HERO */
    .hero-card{
      margin:10px 0 18px;
      padding:18px 16px;
      border-radius:24px;
      background:radial-gradient(circle at top left,rgba(249,115,22,.22) 0,#020617 60%);
      border:1px solid rgba(148,163,184,.2);
      box-shadow:var(--shadow-soft);
    }

    .hero-title{font-size:18px;font-weight:700;margin-bottom:6px}
    .hero-text{font-size:13px;color:var(--text-muted)}

    /* SEZIONI */
    .section-label{
      font-size:13px;
      text-transform:uppercase;
      letter-spacing:.16em;
      color:var(--text-muted);
      margin:22px 2px 10px;
    }

    /* CARD */
    .card-grid{
      display:grid;
      grid-template-columns:1fr;
      gap:10px;
    }

    .card-link{text-decoration:none;color:inherit}

    .card{
      background:var(--bg-card);
      border-radius:var(--radius-lg);
      padding:14px 13px;
      border:1px solid var(--border);
      box-shadow:0 10px 26px rgba(0,0,0,.55);
    }

    .card-header{
      display:flex;
      align-items:center;
      gap:10px;
    }

    .card-icon{
      width:32px;
      height:32px;
      border-radius:14px;
      background:var(--accent-soft);
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:18px;
      flex-shrink:0;
    }

    .card-title{font-size:14px;font-weight:600}
    .card-subtitle{font-size:12px;color:var(--text-muted)}

    /* MICRO COVER VOICE */
    .voice-thumb{
      width:56px;
      height:56px;
      border-radius:12px;
      object-fit:cover;
      flex-shrink:0;
      border:1px solid rgba(249,115,22,.35);
      background:#0b1120;
    }

    footer{
      margin-top:26px;
      text-align:center;
      font-size:11px;
      color:var(--text-muted);
    }
.icon-running {
  background: rgba(59,130,246,.18); /* blu */
}

.icon-fitwalking {
  background: rgba(34,197,94,.18); /* verde */
}

.icon-trekking {
  background: rgba(161,98,7,.22); /* marrone */
}
    
  </style>
</head>

<body>
<div class="app-shell">

  <!-- HEADER -->
  <header class="app-header">
    <div class="app-logo-wrap">
      <img src="Logopit_1764687878535.png" class="app-logo" alt="Runner‚Äôs School Italia">
    </div>
    <div>
      <div class="app-title">Runner‚Äôs School Italia</div>
      <div class="app-subtitle">App ufficiale ‚Äì servizi per gli allievi</div>
    </div>
  </header>

  <!-- HERO -->
  <a href="./allenamento/?level=L1" class="card-link">
    <section class="hero-card">
      <h1 class="hero-title">Allenamento della settimana</h1>
      <p class="hero-text">Visualizza gli allenamenti in programma questa settimana suddivisi per livello</p>
    </section>
  </a>

  <!-- STRUMENTI -->
  <div class="section-label">Strumenti utili</div>
  <div class="card-grid">

    <a class="card-link" href="./programma/">
      <div class="card"><div class="card-header">
        <div class="card-icon">üèÉ‚Äç‚ôÇÔ∏è</div>
        <div><div class="card-title">Programma completo</div><div class="card-subtitle">Allenamenti RS</div></div>
      </div></div>
      
    </a>
    <a class="card-link" href="/runnerschoolitalia/programmi-gare/">
  <div class="card">
    <div class="card-header">
      <div class="card-icon">üèÅ</div>
      <div>
        <div class="card-title">Programmi Gare</div>
        <div class="card-subtitle">Preparazione mezze maratone</div>
      </div>
    </div>
  </div>
</a>
    <a class="card-link" href="https://www.runnerschoolitalia.com/calcola-istantaneamente-i-tuoi-ritmi-di-corsa/" target="_blank">
      <div class="card"><div class="card-header">
        <div class="card-icon">‚è±Ô∏è</div>
        <div><div class="card-title">Calcola i tuoi ritmi</div><div class="card-subtitle">Strumento RS</div></div>
      </div></div>
    </a>

<a class="card-link" href="/runnerschoolitalia/materiale/">

  <div class="card">
    <div class="card-header">
      <div class="card-icon icon-running">üìò</div>
      <div>
        <div class="card-title">Materiale didattico RUNNING</div>
        <div class="card-subtitle">Tecnica di corsa ed esercizi</div>
      </div>
    </div>
  </div>
</a>

<a class="card-link" href="/runnerschoolitalia/materiale/fitwalking.html">
  <div class="card">
    <div class="card-header">
      <div class="card-icon icon-fitwalking">üìò</div>
      <div>
        <div class="card-title">Materiale didattico FITWALKING</div>
        <div class="card-subtitle">Camminata sportiva e postura</div>
      </div>
    </div>
  </div>
</a>


<a class="card-link" href="/runnerschoolitalia/materiale/trekking.html">
  <div class="card">
    <div class="card-header">
      <div class="card-icon icon-trekking">üìò</div>
      <div>
        <div class="card-title">Materiale didattico TREKKING SPORTIVO</div>
        <div class="card-subtitle">Progressione, sicurezza, ambiente</div>
      </div>
    </div>
  </div>
</a>


    <a class="card-link" href="./certificati/">
      <div class="card"><div class="card-header">
        <div class="card-icon">ü©∫</div>
        <div><div class="card-title">Certificati medici</div><div class="card-subtitle">Caricamento e scadenze</div></div>
      </div></div>
    </a>

    <a class="card-link" href="./sedi/">
      <div class="card"><div class="card-header">
        <div class="card-icon">üìç</div>
        <div><div class="card-title">Sedi e orari</div><div class="card-subtitle">Scuole RS</div></div>
      </div></div>
    </a>

  </div>

  <!-- ISCRIZIONI -->
  <div class="section-label">Iscrizioni</div>
  <div class="card-grid">

    <a class="card-link" href="https://docs.google.com/forms/d/e/1FAIpQLSeZIoMp7KhlS5yjiK4ulQuwEQUcpAowFEUSOnhe-fKaydaMbg/viewform" target="_blank">
      <div class="card"><div class="card-header">
        <div class="card-icon">üìù</div>
        <div><div class="card-title">Iscrizione corso</div><div class="card-subtitle">Modulo ufficiale RS</div></div>
      </div></div>
    </a>

    <a class="card-link" href="https://docs.google.com/forms/d/e/1FAIpQLSevFqfYB73r7jEjLj67CTaevUuZk_S2-dCSFJSEqP6wKt-5dA/viewform" target="_blank">
      <div class="card"><div class="card-header">
        <div class="card-icon">‚≠ê</div>
        <div><div class="card-title">Prova gratuita</div><div class="card-subtitle">Vieni a provare RS</div></div>
      </div></div>
    </a>

  </div>

  <!-- RUNNER'S VOICE -->
  <div class="section-label">Runner‚Äôs Voice</div>
  <div class="card-grid" id="rs-news">
    <div class="card">
      <div class="card-header">
        <div class="card-icon">üéôÔ∏è</div>
        <div>
          <div class="card-title">Caricamento articoli‚Ä¶</div>
          <div class="card-subtitle">Runner‚Äôs Voice</div>
        </div>
      </div>
    </div>
  </div>

  <footer>Runner‚Äôs School Italia ¬∑ Allenarsi bene, insieme.</footer>
</div>

<!-- JS RUNNER'S VOICE -->
<script>
document.addEventListener("DOMContentLoaded", () => {

  const container = document.getElementById("rs-news");
  if (!container) return;

  async function getOgImage(url){
    try{
      const r = await fetch(url);
      const t = await r.text();
      const d = new DOMParser().parseFromString(t,"text/html");
      const m = d.querySelector('meta[property="og:image"]');
      return m ? m.content : null;
    }catch{ return null }
  }

  fetch("https://www.runnerschoolitalia.com/wp-json/rs/v1/voice")
    .then(r=>r.json())
    .then(posts=>{
      container.innerHTML="";
      posts.forEach(p=>{
        const a=document.createElement("a");
        a.className="card-link";
        a.href=p.link;
        a.target="_blank";

        a.innerHTML=`
          <div class="card">
            <div class="card-header">
              <img class="voice-thumb">
              <div>
                <div class="card-title">${p.title}</div>
                <div class="card-subtitle">${p.date}</div>
              </div>
            </div>
          </div>`;

        container.appendChild(a);

        const img=a.querySelector(".voice-thumb");
        img.src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='20' fill='%230b1120'/><text x='50' y='62' font-size='48' text-anchor='middle'>üéôÔ∏è</text></svg>";

        getOgImage(p.link).then(src=>{ if(src) img.src=src; });
      });
    });
});
</script>

</body>
</html>


<!-- JS RUNNER'S VOICE (solo categoria Runner‚Äôs Voice) -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  const container = document.getElementById("rs-news");
  if (!container) return;

  const PLACEHOLDER =
    "data:image/svg+xml;utf8," +
    encodeURIComponent(`
      <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'>
        <rect width='100' height='100' rx='20' fill='#0b1120'/>
        <text x='50' y='62' font-size='48' text-anchor='middle'>üéôÔ∏è</text>
      </svg>
    `);

  // üî• SOLO articoli Runner‚Äôs Voice (categoria ID = 245)
  const URL = "https://www.runnerschoolitalia.com/wp-json/wp/v2/posts?categories=245&per_page=5&_embed";

  const stripHtml = (s) => String(s || "").replace(/<[^>]*>/g, "").trim();

  function getFeaturedImage(post) {
    try {
      const media = post?._embedded?.["wp:featuredmedia"]?.[0];
      return (
        media?.media_details?.sizes?.medium?.source_url ||
        media?.media_details?.sizes?.large?.source_url ||
        media?.source_url ||
        null
      );
    } catch {
      return null;
    }
  }

  fetch(URL, { cache: "no-store" })
    .then(r => {
      if (!r.ok) throw new Error("HTTP " + r.status);
      return r.json();
    })
    .then(posts => {
      container.innerHTML = "";

      posts.forEach(post => {
        const a = document.createElement("a");
        a.className = "card-link";
        a.href = post.link;
        a.target = "_blank";
        a.rel = "noopener";

        const title = stripHtml(post?.title?.rendered || "Runner‚Äôs Voice");
        const date = post?.date
          ? new Date(post.date).toLocaleDateString("it-IT", {
              day: "2-digit",
              month: "short",
              year: "numeric"
            })
          : "";

        const imgSrc = getFeaturedImage(post) || PLACEHOLDER;

        a.innerHTML = `
          <div class="card">
            <div class="card-header">
              <img class="voice-thumb"
                   src="${imgSrc}"
                   alt="Runner‚Äôs Voice"
                   loading="lazy"
                   onerror="this.onerror=null;this.src='${PLACEHOLDER}'">
              <div>
                <div class="card-title">${title}</div>
                <div class="card-subtitle">${date}</div>
              </div>
            </div>
          </div>
        `;

        container.appendChild(a);
      });

      if (!posts || posts.length === 0) {
        container.innerHTML = `
          <div class="card">
            <div class="card-header">
              <div class="card-icon">üéôÔ∏è</div>
              <div>
                <div class="card-title">Nessun articolo Runner‚Äôs Voice</div>
                <div class="card-subtitle">Al momento non ci sono contenuti</div>
              </div>
            </div>
          </div>
        `;
      }
    })
    .catch(err => {
      console.error("Runner‚Äôs Voice error:", err);
      container.innerHTML = `
        <div class="card">
          <div class="card-header">
            <div class="card-icon">‚ö†Ô∏è</div>
            <div>
              <div class="card-title">Runner‚Äôs Voice non disponibile</div>
              <div class="card-subtitle">Errore di caricamento</div>
            </div>
          </div>
        </div>
      `;
    });
});
</script>


